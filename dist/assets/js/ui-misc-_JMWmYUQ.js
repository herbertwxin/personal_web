import{r as i,j as O,R as H,a as Q,b as Z}from"./vendor-react-DQfWul--.js";import{c as ee}from"./ui-core-pWqjCSTO.js";function j(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function te(...e){return t=>{let n=!1;const s=e.map(r=>{const u=j(r,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let r=0;r<s.length;r++){const u=s[r];typeof u=="function"?u():j(e[r],null)}}}}function L(...e){return i.useCallback(te(...e),e)}function D(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function Ie(e,t){const n=i.createContext(t),s=u=>{const{children:c,...o}=u,l=i.useMemo(()=>o,Object.values(o));return O.jsx(n.Provider,{value:l,children:c})};s.displayName=e+"Provider";function r(u){const c=i.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${u}\` must be used within \`${e}\``)}return[s,r]}function Ue(e,t=[]){let n=[];function s(u,c){const o=i.createContext(c),l=n.length;n=[...n,c];const a=v=>{var h;const{scope:m,children:p,...b}=v,f=((h=m==null?void 0:m[e])==null?void 0:h[l])||o,P=i.useMemo(()=>b,Object.values(b));return O.jsx(f.Provider,{value:P,children:p})};a.displayName=u+"Provider";function d(v,m){var f;const p=((f=m==null?void 0:m[e])==null?void 0:f[l])||o,b=i.useContext(p);if(b)return b;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[a,d]}const r=()=>{const u=n.map(c=>i.createContext(c));return function(o){const l=(o==null?void 0:o[e])||u;return i.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return r.scopeName=e,[s,ne(r,...t)]}function ne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(u){const c=s.reduce((o,{useScope:l,scopeName:a})=>{const v=l(u)[`__scope${a}`];return{...o,...v}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var g=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},se=H[" useId ".trim().toString()]||(()=>{}),re=0;function _e(e){const[t,n]=i.useState(se());return g(()=>{n(s=>s??String(re++))},[e]),e||(t?`radix-${t}`:"")}var oe=H[" useInsertionEffect ".trim().toString()]||g;function ke({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,u,c]=ie({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r;{const d=i.useRef(e!==void 0);i.useEffect(()=>{const v=d.current;if(v!==o){const m=v?"controlled":"uncontrolled",p=o?"controlled":"uncontrolled"}d.current=o},[o,s])}const a=i.useCallback(d=>{var v;if(o){const m=ue(d)?d(e):d;m!==e&&((v=c.current)==null||v.call(c,m))}else u(d)},[o,e,u,c]);return[l,a]}function ie({defaultProp:e,onChange:t}){const[n,s]=i.useState(e),r=i.useRef(n),u=i.useRef(t);return oe(()=>{u.current=t},[t]),i.useEffect(()=>{var c;r.current!==n&&((c=u.current)==null||c.call(u,n),r.current=n)},[n,r]),[n,s,u]}function ue(e){return typeof e=="function"}var ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A=ce.reduce((e,t)=>{const n=ee(`Primitive.${t}`),s=i.forwardRef((r,u)=>{const{asChild:c,...o}=r,l=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(l,{...o,ref:u})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function ae(e,t){e&&Q.flushSync(()=>e.dispatchEvent(t))}function T(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function de(e,t=globalThis==null?void 0:globalThis.document){const n=T(e);i.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var le="DismissableLayer",_="dismissableLayer.update",fe="dismissableLayer.pointerDownOutside",me="dismissableLayer.focusOutside",B,X=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ve=i.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:u,onInteractOutside:c,onDismiss:o,...l}=e,a=i.useContext(X),[d,v]=i.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=i.useState({}),b=L(t,E=>v(E)),f=Array.from(a.layers),[P]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),h=f.indexOf(P),S=d?f.indexOf(d):-1,N=a.layersWithOutsidePointerEventsDisabled.size>0,y=S>=h,w=he(E=>{const x=E.target,W=[...a.branches].some(F=>F.contains(x));!y||W||(r==null||r(E),c==null||c(E),E.defaultPrevented||o==null||o())},m),k=ye(E=>{const x=E.target;[...a.branches].some(F=>F.contains(x))||(u==null||u(E),c==null||c(E),E.defaultPrevented||o==null||o())},m);return de(E=>{S===a.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},m),i.useEffect(()=>{if(d)return n&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(B=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(d)),a.layers.add(d),$(),()=>{n&&a.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=B)}},[d,m,n,a]),i.useEffect(()=>()=>{d&&(a.layers.delete(d),a.layersWithOutsidePointerEventsDisabled.delete(d),$())},[d,a]),i.useEffect(()=>{const E=()=>p({});return document.addEventListener(_,E),()=>document.removeEventListener(_,E)},[]),O.jsx(A.div,{...l,ref:b,style:{pointerEvents:N?y?"auto":"none":void 0,...e.style},onFocusCapture:D(e.onFocusCapture,k.onFocusCapture),onBlurCapture:D(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:D(e.onPointerDownCapture,w.onPointerDownCapture)})});ve.displayName=le;var pe="DismissableLayerBranch",Ee=i.forwardRef((e,t)=>{const n=i.useContext(X),s=i.useRef(null),r=L(t,s);return i.useEffect(()=>{const u=s.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),O.jsx(A.div,{...e,ref:r})});Ee.displayName=pe;function he(e,t=globalThis==null?void 0:globalThis.document){const n=T(e),s=i.useRef(!1),r=i.useRef(()=>{});return i.useEffect(()=>{const u=o=>{if(o.target&&!s.current){let l=function(){Y(fe,n,a,{discrete:!0})};const a={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=l,t.addEventListener("click",r.current,{once:!0})):l()}else t.removeEventListener("click",r.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",u),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function ye(e,t=globalThis==null?void 0:globalThis.document){const n=T(e),s=i.useRef(!1);return i.useEffect(()=>{const r=u=>{u.target&&!s.current&&Y(me,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function $(){const e=new CustomEvent(_);document.dispatchEvent(e)}function Y(e,t,n,{discrete:s}){const r=n.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?ae(r,u):r.dispatchEvent(u)}var M="focusScope.autoFocusOnMount",I="focusScope.autoFocusOnUnmount",K={bubbles:!1,cancelable:!0},be="FocusScope",Pe=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:u,...c}=e,[o,l]=i.useState(null),a=T(r),d=T(u),v=i.useRef(null),m=L(t,f=>l(f)),p=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(s){let f=function(N){if(p.paused||!o)return;const y=N.target;o.contains(y)?v.current=y:C(v.current,{select:!0})},P=function(N){if(p.paused||!o)return;const y=N.relatedTarget;y!==null&&(o.contains(y)||C(v.current,{select:!0}))},h=function(N){if(document.activeElement===document.body)for(const w of N)w.removedNodes.length>0&&C(o)};document.addEventListener("focusin",f),document.addEventListener("focusout",P);const S=new MutationObserver(h);return o&&S.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",P),S.disconnect()}}},[s,o,p.paused]),i.useEffect(()=>{if(o){G.add(p);const f=document.activeElement;if(!o.contains(f)){const h=new CustomEvent(M,K);o.addEventListener(M,a),o.dispatchEvent(h),h.defaultPrevented||(Ne(Te(J(o)),{select:!0}),document.activeElement===f&&C(o))}return()=>{o.removeEventListener(M,a),setTimeout(()=>{const h=new CustomEvent(I,K);o.addEventListener(I,d),o.dispatchEvent(h),h.defaultPrevented||C(f??document.body,{select:!0}),o.removeEventListener(I,d),G.remove(p)},0)}}},[o,a,d,p]);const b=i.useCallback(f=>{if(!n&&!s||p.paused)return;const P=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,h=document.activeElement;if(P&&h){const S=f.currentTarget,[N,y]=Se(S);N&&y?!f.shiftKey&&h===y?(f.preventDefault(),n&&C(N,{select:!0})):f.shiftKey&&h===N&&(f.preventDefault(),n&&C(y,{select:!0})):h===S&&f.preventDefault()}},[n,s,p.paused]);return O.jsx(A.div,{tabIndex:-1,...c,ref:m,onKeyDown:b})});Pe.displayName=be;function Ne(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(C(s,{select:t}),document.activeElement!==n)return}function Se(e){const t=J(e),n=z(t,e),s=z(t.reverse(),e);return[n,s]}function J(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function z(e,t){for(const n of e)if(!Ce(n,{upTo:t}))return n}function Ce(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oe(e){return e instanceof HTMLInputElement&&"select"in e}function C(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Oe(e)&&t&&e.select()}}var G=ge();function ge(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=V(e,t),e.unshift(t)},remove(t){var n;e=V(e,t),(n=e[0])==null||n.resume()}}}function V(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Te(e){return e.filter(t=>t.tagName!=="A")}var we="Portal",xe=i.forwardRef((e,t)=>{var o;const{container:n,...s}=e,[r,u]=i.useState(!1);g(()=>u(!0),[]);const c=n||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return c?Z.createPortal(O.jsx(A.div,{...s,ref:t}),c):null});xe.displayName=we;function Re(e,t){return i.useReducer((n,s)=>t[n][s]??n,e)}var Le=e=>{const{present:t,children:n}=e,s=Ae(t),r=typeof n=="function"?n({present:s.isPresent}):i.Children.only(n),u=L(s.ref,Fe(r));return typeof n=="function"||s.isPresent?i.cloneElement(r,{ref:u}):null};Le.displayName="Presence";function Ae(e){const[t,n]=i.useState(),s=i.useRef(null),r=i.useRef(e),u=i.useRef("none"),c=e?"mounted":"unmounted",[o,l]=Re(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const a=R(s.current);u.current=o==="mounted"?a:"none"},[o]),g(()=>{const a=s.current,d=r.current;if(d!==e){const m=u.current,p=R(a);e?l("MOUNT"):p==="none"||(a==null?void 0:a.display)==="none"?l("UNMOUNT"):l(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),g(()=>{if(t){let a;const d=t.ownerDocument.defaultView??window,v=p=>{const f=R(s.current).includes(CSS.escape(p.animationName));if(p.target===t&&f&&(l("ANIMATION_END"),!r.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",a=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},m=p=>{p.target===t&&(u.current=R(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{d.clearTimeout(a),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:i.useCallback(a=>{s.current=a?getComputedStyle(a):null,n(a)},[])}}function R(e){return(e==null?void 0:e.animationName)||"none"}function Fe(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var U=0;function We(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q()),document.body.insertAdjacentElement("beforeend",e[1]??q()),U++,()=>{U===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),U--}},[])}function q(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}export{ve as D,Pe as F,A as P,Ue as a,_e as b,te as c,L as d,D as e,Le as f,xe as g,We as h,Ie as i,ke as u};
